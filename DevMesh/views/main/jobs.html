<%- include('../partials/header.html') %>

	<div class="search-sec">
		<div class="container">
			<div class="search-box">
				<form>
					<input type="text" name="search" placeholder="Search keywords">
					<button type="submit">Search</button>
				</form>
			</div><!--search-box end-->
		</div>
	</div><!--search-sec end-->


	<main>
		<div class="main-section">
			<div class="container">
				<div class="main-section-data">
					<div class="row">
						<div class="col-lg-12 mb-3">
							<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#postJobModal">Post a Job</button>
						</div>

						<!-- Modal -->
						<div class="modal fade" id="postJobModal" tabindex="-1" role="dialog" aria-labelledby="postJobModalLabel" aria-hidden="true">
							<div class="modal-dialog">
								<div class="modal-content">
									<div class="modal-header">
										<h5 class="modal-title" id="postJobModalLabel">Post a New Job</h5>
									</div>
									<div class="modal-body">
										<!-- Conteúdo do Modal: Formulário para postar um novo trabalho -->
										<form id="postJobForm">
											<div class="mb-3">
												<label for="jobTitle" class="form-label">Job Title</label>
												<input type="text" class="form-control" id="jobTitle" placeholder="Job Title" required>
											</div>
											<div class="mb-3">
												<label for="jobLocation" class="form-label">Location</label>
												<input type="text" class="form-control" id="jobLocation" placeholder="Location" required>
											</div>
											<div class="mb-3">
												<label for="jobType" class="form-label">Job Type</label>
												<select class="form-select" id="jobType" required>
													<option value="">Select a job type</option>
													<option value="Full Time">Full Time</option>
													<option value="Part Time">Part Time</option>
													<option value="Contract">Contract</option>
													<option value="Temporary">Temporary</option>
													<option value="Volunteer">Volunteer</option>
													<option value="Internship">Internship</option>
												</select>
											</div>
											<div class="mb-3">
												<label for="jobPayment" class="form-label">Payment for the Job</label>
												<input type="number" class="form-control" id="jobPayment" placeholder="Amount in Dollar" required>
											</div>
											<div class="mb-3">
												<label for="jobDescription" class="form-label">Job Description</label>
												<textarea class="form-control" id="jobDescription" rows="3" required></textarea>
											</div>
											<div class="mb-3">
												<label for="jobTags" class="form-label">Tags</label>
												<input type="text" class="form-control" id="jobTags" placeholder="Tags (comma-separated)" required>
											</div>
										</form>
									</div>
									<div class="modal-footer">
										<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
										<button type="submit" class="btn btn-primary" form="postJobForm">Submit</button>
									</div>									
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-lg-3">
							<div class="filter-secs">
								<div class="filter-heading">
									<h3>Filters</h3>
									<a href="#" title="">Clear all filters</a>
								</div><!--filter-heading end-->
								<div class="paddy">
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Skills</h3>
											<a href="#" title="">Clear</a>
										</div>
										<form>
											<input type="text" name="search-skills" placeholder="Search skills">
										</form>
									</div>
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Availabilty</h3>
											<a href="#" title="">Clear</a>
										</div>
										<ul class="avail-checks">
											<li>
												<input type="radio" name="cc" id="c1">
												<label for="c1">
													<span></span>
												</label>
												<small>Hourly</small>
											</li>
											<li>
												<input type="radio" name="cc" id="c2">
												<label for="c2">
													<span></span>
												</label>
												<small>Part Time</small>
											</li>
											<li>
												<input type="radio" name="cc" id="c3">
												<label for="c3">
													<span></span>
												</label>
												<small>Full Time</small>
											</li>
										</ul>
									</div>
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Job Type</h3>
											<a href="#" title="">Clear</a>
										</div>
										<form class="job-tp">
											<select>
												<option>Select a job type</option>
												<option>Select a job type</option>
												<option>Select a job type</option>
												<option>Select a job type</option>
											</select>
											<i class="fa fa-ellipsis-v" aria-hidden="true"></i>
										</form>
									</div>
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Pay Rate / Hr ($)</h3>
											<a href="#" title="">Clear</a>
										</div>
										<div class="rg-slider">
											<input class="rn-slider slider-input" type="hidden" value="5,50" />
										</div>
										<div class="rg-limit">
											<h4>1</h4>
											<h4>100+</h4>
										</div><!--rg-limit end-->
									</div>
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Experience Level</h3>
											<a href="#" title="">Clear</a>
										</div>
										<form class="job-tp">
											<select>
												<option>Select a experience level</option>
												<option>3 years</option>
												<option>4 years</option>
												<option>5 years</option>
											</select>
											<i class="fa fa-ellipsis-v" aria-hidden="true"></i>
										</form>
									</div>
									<div class="filter-dd">
										<div class="filter-ttl">
											<h3>Countries</h3>
											<a href="#" title="">Clear</a>
										</div>
										<form class="job-tp">
											<select>
												<option>Select a country</option>
												<option>United Kingdom</option>
												<option>United States</option>
												<option>Russia</option>
											</select>
											<i class="fa fa-ellipsis-v" aria-hidden="true"></i>
										</form>
									</div>
								</div>
							</div><!--filter-secs end-->
						</div>
						<div class="col-lg-6">
							<div class="main-ws-sec">
								<div class="posts-section">
									<% jobs.forEach(function(job) { %>
										<div class="post-bar">
											<div class="post_topbar">
												<div class="usy-dt">
													<img src="<%= job.jobHunterImage %>" alt="Hunter Profile Image" style="width: 50px;height: 50px;">
													<div class="usy-name">
														<h3><%= job.jobHunterName %></h3>
														<span><img src="/public/img/icons/Clock.png" alt="Clock Icon"><%= job.createdAt.toDateString() %></span>
													</div>
												</div>
												<!-- Adicione outras opções como editar, salvar, etc., se aplicável -->
											</div>
											<div class="epi-sec">
												<ul class="descp">
													<li><img src="/public/img/icons/Send.png" alt=""><span><%= job.location %></span></li>
												</ul>
												<!-- Outros links ou informações -->
											</div>
											<div class="job_descp">
												<h3><%= job.title %></h3>
												<ul class="job-dt">
													<li class="mr-1"><a href="#" title=""><%= job.type %></a></li>
													<li><span>$<%= job.payment %> to do the job</span></li>
												</ul>
												<p><%= job.description.substring(0, 100) %>... <a href="#" title="">view more</a></p>
												<ul class="skill-tags">
													<% 
													const tagsArray = typeof job.tags === 'string' ? job.tags.split(',') : job.tags ?? [];
													tagsArray.forEach(function(tag) { 
													%>
														<li><a href="#" title=""><%= tag.trim() %></a></li>
													<% }); %>
												</ul>

												<button type="button" class="btn btn-primary apply-now-btn top-right" data-job-id="<%= job._id %>">Apply Now</button>
											</div>
										</div><!--post-bar end-->
									<% }); %>									
								</div><!--posts-section end-->
							</div><!--main-ws-sec end-->
						</div>						
						<div class="col-lg-3">
							<div class="right-sidebar">
								<div class="widget widget-jobs">
									<div class="sd-title">
										<h3>Top Jobs</h3>
										<i class="la la-ellipsis-v"></i>
									</div>
									<div class="jobs-list">
										<div class="job-info">
											<div class="job-details">
												<h3>Senior Product Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Senior UI / UX Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Junior Seo Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Senior PHP Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Senior Developer Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
									</div><!--jobs-list end-->
								</div><!--widget-jobs end-->
								<div class="widget widget-jobs">
									<div class="sd-title">
										<h3>Most Viewed This Week</h3>
										<i class="la la-ellipsis-v"></i>
									</div>
									<div class="jobs-list">
										<div class="job-info">
											<div class="job-details">
												<h3>Senior Product Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Senior UI / UX Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
										<div class="job-info">
											<div class="job-details">
												<h3>Junior Seo Designer</h3>
												<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit..</p>
											</div>
											<div class="hr-rate">
												<span>$25/hr</span>
											</div>
										</div><!--job-info end-->
									</div><!--jobs-list end-->
								</div><!--widget-jobs end-->
							</div><!--right-sidebar end-->
						</div>
					</div>
				</div><!-- main-section-data end-->
			</div> 
		</div>
	</main>
</div><!--post-project-popup end-->

<script src="/public/js/jobs.js"></script>

<%- include('../partials/footer.html') %>